<ion-header>
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button defaultHref="list"></ion-back-button>
    </ion-buttons>
    <ion-buttons slot="end">
      <ion-menu-button autoHide="false" color="primary"></ion-menu-button>
    </ion-buttons>
    <ion-title>{{RECORD?.title}}</ion-title>
  </ion-toolbar>
</ion-header>

<ion-content class="main-content">
  <ion-grid>
    <ion-row>
      <ion-col>
          <img src="{{DETAILS?.thumbnail_url}}" alt="">
      </ion-col>
      <ion-col>
        <h2><ion-icon name="time-outline"></ion-icon> <span class="time">{{RECORD?.duration_raw}}</span> &nbsp; <strong routerLink="/details/{{RECORD?.id}}" class="link">{{RECORD?.title}}</strong></h2>
        <h4><strong>ID</strong>: {{RECORD?.id}} <strong>Views</strong>: {{RECORD?.views | number}}</h4>
        <h4><strong>Uploaded</strong>: {{RECORD?.uploaded}}</h4>
        <h4><strong>Channel</strong>: <a href="{{RECORD?.channel?.link}}">{{RECORD?.channel?.name}}</a></h4>
        <h4><strong><ion-icon name="thumbs-up-outline"></ion-icon></strong>: <a href="{{DETAILS?.statistics?.likes}}">{{DETAILS?.statistics?.likes}}</a></h4>
        <h4><strong><ion-icon name="thumbs-down-outline"></ion-icon></strong>: <a href="{{DETAILS?.statistics?.dislikes}}">{{DETAILS?.statistics?.dislikes}}</a></h4>
        <p>{{DETAILS?.description}}</p>
      </ion-col>
    </ion-row>
    <ion-row>
      <ion-col *ngIf="RECORD?.id">
        <!-- <iframe width="100%" height="200" [src]="getURL(RECORD?.id)" title="YouTube video player" frameborder="0" allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe> -->
      </ion-col>
    </ion-row>
  </ion-grid>

  <div class="container">

    <div class="header">
      Comments:
    </div>
  
    <div class="chatbox">
      <div class="chat" *ngFor="let comment of RECORD?.comments; trackBy index">
        <ion-icon name="chatbubble-ellipses-outline"></ion-icon>
        <p class="msg">
          {{comment.text}}
        </p>
      </div>
    </div>

  </div>

  <div class="container">

    <div class="header">
      Captions:
    </div>
  
    <div class="chatbox">
        <div class="captions">
          <ng-template class="item" ngFor let-item [ngForOf]="RECORD?.captions" let-i="index">
            <div><strong>[{{item?.start}}]</strong> {{item?.text}}</div>
          </ng-template>
        </div>
    </div>

  </div>
  
  <script type="module" src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.esm.js"></script>
  <script nomodule src="https://unpkg.com/ionicons@5.5.2/dist/ionicons/ionicons.js"></script>
  
  
</ion-content>
